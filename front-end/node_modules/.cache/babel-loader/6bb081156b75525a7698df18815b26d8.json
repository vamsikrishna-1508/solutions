{"ast":null,"code":"var _jsxFileName = \"/home/vamsi/Documents/Orah/solutions/front-end/src/staff-app/platform/activity.page.tsx\";\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/ButtonBase\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Colors } from \"shared/styles/colors\";\nimport { Spacing, BorderRadius, FontWeight } from \"shared/styles/styles\";\nimport { RollListTile } from \"staff-app/components/student-list-tile/student-list-tile.component\";\nimport { CenteredContainer } from \"shared/components/centered-container/centered-container.component\";\nimport { useApi } from \"shared/hooks/use-api\";\nexport const ActivityPage = () => {\n  const [getActivities, data, loadState, error] = useApi({\n    url: \"get-activities\"\n  });\n  const [getStudents, Sdata] = useApi({\n    url: \"get-homeboard-students\"\n  });\n  const [students, setStudents] = useState([]);\n  let rolledData = data;\n  let StuData = Sdata; // if(rolledData !== undefined){    // In case of Latest Date Sort //\n  // rolledData.activity.sort(function(a:any, b:any) {\n  //    return  +new Date(b.date) - +new Date(a.date);\n  // })\n  //}\n\n  useEffect(() => {\n    void getStudents();\n  }, [getStudents]);\n  useEffect(() => {\n    if (Sdata) {\n      setStudents(Sdata.students);\n    }\n  }, [Sdata]);\n  useEffect(() => {\n    void getActivities();\n  }, [getActivities]);\n  console.log(Sdata);\n  console.log(rolledData);\n  if (error) return /*#__PURE__*/React.createElement(CenteredContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 3\n    }\n  }, \"Failed to load\"));\n  if (loadState === 'loading') return /*#__PURE__*/React.createElement(CenteredContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: \"spinner\",\n    size: \"2x\",\n    spin: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 3\n    }\n  }));\n  return /*#__PURE__*/React.createElement(S.Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, \"Activity Page\"), /*#__PURE__*/React.createElement(React.Fragment, null, rolledData !== undefined && rolledData.activity.map(r => {\n    let activityBar = /*#__PURE__*/React.createElement(S.ToolbarContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 6\n      }\n    }, \" \", r.entity.name, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 6\n      }\n    }, \" \", r.entity.completed_at, \" \"));\n    let studentTile = /*#__PURE__*/React.createElement(React.Fragment, null, r.entity.student_roll_states !== undefined && r.entity.student_roll_states.map(stuData => {\n      const RollData = /*#__PURE__*/React.createElement(RollListTile, {\n        roll: stuData,\n        students: Sdata,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 32\n        }\n      });\n      return RollData;\n    }));\n    return [activityBar, studentTile];\n  })));\n};\nconst S = {\n  Container: styled.div`\n    display: flex;\n    flex-direction: column;\n    width: 50%;\n    margin: ${Spacing.u4} auto 0;\n  `,\n  ToolbarContainer: styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #fff;\n    background-color: ${Colors.blue.base};\n    padding: 6px 14px;\n    font-weight: ${FontWeight.strong};\n    border-radius: ${BorderRadius.default};\n  `,\n  Content: styled.div`\n    flex-grow: 1;\n    padding: ${Spacing.u2};\n    color: ${Colors.dark.base};\n    font-weight: ${FontWeight.strong};\n  `,\n  Avatar: styled.div`\n    width: 60px;\n    background-image: url(${({\n    url\n  }) => url});\n    border-top-left-radius: ${BorderRadius.default};\n    border-bottom-left-radius: ${BorderRadius.default};\n    background-size: cover;\n    background-position: 50%;\n    align-self: stretch;\n  `,\n  Button: styled(Button)`\n    && {\n      padding: ${Spacing.u2};\n      font-weight: ${FontWeight.strong};\n      border-radius: ${BorderRadius.default};\n    }\n  `\n};","map":{"version":3,"sources":["/home/vamsi/Documents/Orah/solutions/front-end/src/staff-app/platform/activity.page.tsx"],"names":["React","useEffect","useState","styled","Button","FontAwesomeIcon","Colors","Spacing","BorderRadius","FontWeight","RollListTile","CenteredContainer","useApi","ActivityPage","getActivities","data","loadState","error","url","getStudents","Sdata","students","setStudents","rolledData","StuData","console","log","undefined","activity","map","r","activityBar","entity","name","completed_at","studentTile","student_roll_states","stuData","RollData","S","Container","div","u4","ToolbarContainer","blue","base","strong","default","Content","u2","dark","Avatar"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport styled from \"styled-components\"\nimport Button from \"@material-ui/core/ButtonBase\"\nimport { Roll } from \"shared/models/roll\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { Colors } from \"shared/styles/colors\"\nimport { Person } from \"shared/models/person\"\nimport { Spacing, BorderRadius, FontWeight } from \"shared/styles/styles\"\nimport { RollListTile } from \"staff-app/components/student-list-tile/student-list-tile.component\"\nimport { CenteredContainer } from \"shared/components/centered-container/centered-container.component\"\nimport { useApi } from \"shared/hooks/use-api\"\n\nexport const ActivityPage: React.FC = () => {\n  const [getActivities, data, loadState, error] = useApi<{ roll: Roll[] }>({ url: \"get-activities\" });\n  const [getStudents, Sdata] = useApi<{ students: Person[] }>({ url: \"get-homeboard-students\" });\n  const [students, setStudents] = useState<Person[]>([]);\n  let rolledData:any = data\n  let StuData:any =  Sdata\n\n // if(rolledData !== undefined){    // In case of Latest Date Sort //\n // rolledData.activity.sort(function(a:any, b:any) {\n//    return  +new Date(b.date) - +new Date(a.date);\n // })\n//}\nuseEffect(() => {\n  void getStudents()\n}, [getStudents]);\n\nuseEffect(() => {\n  if (Sdata) {\n    setStudents(Sdata.students);\n  }\n}, [Sdata]);\n\n  useEffect(() => {\n    void getActivities()\n  }, [getActivities]);\n\n  console.log(Sdata)\n\n  console.log(rolledData)\n\n  if (error) return (<CenteredContainer>\n  <div>Failed to load</div>\n</CenteredContainer>)\n\n\n  if (loadState === 'loading') return ( <CenteredContainer>\n  <FontAwesomeIcon icon=\"spinner\" size=\"2x\" spin />\n</CenteredContainer>)\n\n\n  return <S.Container>\n    <h1>Activity Page</h1>\n    <>\n    {rolledData !== undefined && rolledData.activity.map((r:any) => {\n     let activityBar =  <S.ToolbarContainer>\n     <div> {r.entity.name} </div>\n     <div> {r.entity.completed_at} </div>\n      </S.ToolbarContainer>\n      let studentTile = <>\n        {r.entity.student_roll_states !== undefined &&r.entity.student_roll_states.map((stuData:any) => {\n          const RollData:any = <RollListTile roll={stuData} students={Sdata}/>\n          return RollData\n        })\n        }\n        </>\n      return [activityBar, studentTile]\n      })\n      }\n    </>\n  </S.Container>\n}\n\nconst S = {\n  \n  Container: styled.div`\n    display: flex;\n    flex-direction: column;\n    width: 50%;\n    margin: ${Spacing.u4} auto 0;\n  `,\n    ToolbarContainer: styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #fff;\n    background-color: ${Colors.blue.base};\n    padding: 6px 14px;\n    font-weight: ${FontWeight.strong};\n    border-radius: ${BorderRadius.default};\n  `\n  ,\n  Content: styled.div`\n    flex-grow: 1;\n    padding: ${Spacing.u2};\n    color: ${Colors.dark.base};\n    font-weight: ${FontWeight.strong};\n  `,\n    Avatar: styled.div<{ url: string }>`\n    width: 60px;\n    background-image: url(${({ url }) => url});\n    border-top-left-radius: ${BorderRadius.default};\n    border-bottom-left-radius: ${BorderRadius.default};\n    background-size: cover;\n    background-position: 50%;\n    align-self: stretch;\n  `,\n  Button: styled(Button)`\n    && {\n      padding: ${Spacing.u2};\n      font-weight: ${FontWeight.strong};\n      border-radius: ${BorderRadius.default};\n    }\n  `,\n}\n"]},"metadata":{},"sourceType":"module"}