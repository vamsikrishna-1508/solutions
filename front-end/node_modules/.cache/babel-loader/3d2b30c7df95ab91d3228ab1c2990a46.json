{"ast":null,"code":"var _jsxFileName = \"/home/vamsi/Documents/Orah/solutions/front-end/src/staff-app/platform/activity.page.tsx\";\nimport React, { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Button from \"@material-ui/core/ButtonBase\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Colors } from \"shared/styles/colors\";\nimport { Spacing, BorderRadius, FontWeight } from \"shared/styles/styles\";\nimport { RollListTile } from \"staff-app/components/student-list-tile/student-list-tile.component\";\nimport { CenteredContainer } from \"shared/components/centered-container/centered-container.component\";\nimport { useApi } from \"shared/hooks/use-api\";\nexport const ActivityPage = () => {\n  const [getActivities, data, loadState, error] = useApi({\n    url: \"get-activities\"\n  });\n  const [getStudents, Sdata] = useApi({\n    url: \"get-homeboard-students\"\n  });\n  let rolledData = data;\n  let StuData = Sdata;\n\n  function getDateText(students) {\n    var monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n    var d = new Date(students);\n    var day = d.getDay();\n    var month = monthNames[d.getMonth()];\n    var year = d.getFullYear();\n    var hour = d.getHours();\n    var min = d.getMinutes();\n    var fullDatetime = day + ' ' + month + ' ' + year + ' ' + hour + ':' + min;\n    return fullDatetime;\n  } // if(rolledData !== undefined){    // In case of Latest Date Sort //\n  // rolledData.activity.sort(function(a:any, b:any) {\n  //    return  +new Date(b.date) - +new Date(a.date);\n  // })\n  //}\n\n\n  useEffect(() => {\n    void getStudents();\n  }, [getStudents]);\n  useEffect(() => {\n    void getActivities();\n  }, [getActivities]);\n\n  if (Sdata !== undefined) {\n    console.log(Sdata);\n  }\n\n  if (rolledData !== undefined) {\n    console.log(Sdata);\n  }\n\n  if (error) return /*#__PURE__*/React.createElement(CenteredContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 3\n    }\n  }, \"Failed to load. Please refresh the page.\"));\n  if (loadState === 'loading') return /*#__PURE__*/React.createElement(CenteredContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: \"spinner\",\n    size: \"2x\",\n    spin: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 3\n    }\n  }));\n  return /*#__PURE__*/React.createElement(S.Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, \"Activity Page\"), /*#__PURE__*/React.createElement(React.Fragment, null, rolledData !== undefined && rolledData.activity.map(r => {\n    let activityBar = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 26\n      }\n    }), \" \", /*#__PURE__*/React.createElement(S.ToolbarContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 6\n      }\n    }, \" \", r.entity.name, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 6\n      }\n    }, \" \", getDateText(r.entity.completed_at), \" \")));\n    let studentTile = /*#__PURE__*/React.createElement(React.Fragment, null, r.entity.student_roll_states !== undefined && r.entity.student_roll_states.map(stuData => {\n      const RollData = /*#__PURE__*/React.createElement(RollListTile, {\n        roll: stuData,\n        student: StuData,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 32\n        }\n      });\n      return RollData;\n    }));\n    return [activityBar, studentTile];\n  })));\n};\nconst S = {\n  Container: styled.div`\n    display: flex;\n    flex-direction: column;\n    width: 50%;\n    margin: ${Spacing.u4} auto 0;\n  `,\n  ToolbarContainer: styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #fff;\n    background-color: ${Colors.blue.base};\n    padding: 6px 14px;\n    font-weight: ${FontWeight.strong};\n    border-radius: ${BorderRadius.default};\n  `,\n  Content: styled.div`\n    flex-grow: 1;\n    padding: ${Spacing.u2};\n    color: ${Colors.dark.base};\n    font-weight: ${FontWeight.strong};\n  `,\n  Avatar: styled.div`\n    width: 60px;\n    background-image: url(${({\n    url\n  }) => url});\n    border-top-left-radius: ${BorderRadius.default};\n    border-bottom-left-radius: ${BorderRadius.default};\n    background-size: cover;\n    background-position: 50%;\n    align-self: stretch;\n  `,\n  Button: styled(Button)`\n    && {\n      padding: ${Spacing.u2};\n      font-weight: ${FontWeight.strong};\n      border-radius: ${BorderRadius.default};\n    }\n  `\n};","map":{"version":3,"sources":["/home/vamsi/Documents/Orah/solutions/front-end/src/staff-app/platform/activity.page.tsx"],"names":["React","useEffect","styled","Button","FontAwesomeIcon","Colors","Spacing","BorderRadius","FontWeight","RollListTile","CenteredContainer","useApi","ActivityPage","getActivities","data","loadState","error","url","getStudents","Sdata","rolledData","StuData","getDateText","students","monthNames","d","Date","day","getDay","month","getMonth","year","getFullYear","hour","getHours","min","getMinutes","fullDatetime","undefined","console","log","activity","map","r","activityBar","entity","name","completed_at","studentTile","student_roll_states","stuData","RollData","S","Container","div","u4","ToolbarContainer","blue","base","strong","default","Content","u2","dark","Avatar"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\"\nimport styled from \"styled-components\"\nimport Button from \"@material-ui/core/ButtonBase\"\nimport { Roll } from \"shared/models/roll\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { Colors } from \"shared/styles/colors\"\nimport { Person } from \"shared/models/person\"\nimport { Spacing, BorderRadius, FontWeight } from \"shared/styles/styles\"\nimport { RollListTile } from \"staff-app/components/student-list-tile/student-list-tile.component\"\nimport { CenteredContainer } from \"shared/components/centered-container/centered-container.component\"\nimport { useApi } from \"shared/hooks/use-api\"\n\nexport const ActivityPage: React.FC = () => {\n  const [getActivities, data, loadState, error] = useApi<{ roll: Roll[] }>({ url: \"get-activities\" });\n  const [getStudents, Sdata] = useApi<{ students: Person[] }>({ url: \"get-homeboard-students\" });\n  let rolledData:any = data\n  let StuData:any =  Sdata\n\n\n  function getDateText(students:any){\n    var monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n                      \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n                     ];\n    var d = new Date(students);\n    var day = d.getDay();\n    var month = monthNames[d.getMonth()];\n    var year = d.getFullYear();\n    var hour = d.getHours();\n    var min = d.getMinutes();\n\nvar fullDatetime = day + ' ' + month + ' ' + year + ' ' + hour + ':' + min;\nreturn fullDatetime;\n  }\n\n // if(rolledData !== undefined){    // In case of Latest Date Sort //\n // rolledData.activity.sort(function(a:any, b:any) {\n//    return  +new Date(b.date) - +new Date(a.date);\n // })\n//}\nuseEffect(() => {\n  void getStudents()\n}, [getStudents]);\n\n  useEffect(() => {\n    void getActivities()\n  }, [getActivities]);\n\n  if(Sdata !== undefined){\n    console.log(Sdata);\n  }\n\n  if(rolledData !== undefined){\n    console.log(Sdata);\n  }\n\n  if (error) return (<CenteredContainer>\n  <div>Failed to load. Please refresh the page.</div>\n</CenteredContainer>)\n\n\n  if (loadState === 'loading') return ( <CenteredContainer>\n  <FontAwesomeIcon icon=\"spinner\" size=\"2x\" spin />\n</CenteredContainer>)\n\n\n  return <S.Container>\n    <h1>Activity Page</h1>\n    <>\n    {rolledData !== undefined && rolledData.activity.map((r:any) => {\n     let activityBar = <><br /> <S.ToolbarContainer>\n     <div> {r.entity.name} </div>\n     <div> {getDateText(r.entity.completed_at)} </div>\n      </S.ToolbarContainer>\n      </>\n      let studentTile = <>\n        {r.entity.student_roll_states !== undefined &&r.entity.student_roll_states.map((stuData:any) => {\n          const RollData:any = <RollListTile roll={stuData} student={StuData}/>\n          return RollData\n        })\n        }\n        </>\n      return [activityBar, studentTile]\n      })\n      }\n    </>\n  </S.Container>\n}\n\nconst S = {\n  \n  Container: styled.div`\n    display: flex;\n    flex-direction: column;\n    width: 50%;\n    margin: ${Spacing.u4} auto 0;\n  `,\n    ToolbarContainer: styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: #fff;\n    background-color: ${Colors.blue.base};\n    padding: 6px 14px;\n    font-weight: ${FontWeight.strong};\n    border-radius: ${BorderRadius.default};\n  `\n  ,\n  Content: styled.div`\n    flex-grow: 1;\n    padding: ${Spacing.u2};\n    color: ${Colors.dark.base};\n    font-weight: ${FontWeight.strong};\n  `,\n    Avatar: styled.div<{ url: string }>`\n    width: 60px;\n    background-image: url(${({ url }) => url});\n    border-top-left-radius: ${BorderRadius.default};\n    border-bottom-left-radius: ${BorderRadius.default};\n    background-size: cover;\n    background-position: 50%;\n    align-self: stretch;\n  `,\n  Button: styled(Button)`\n    && {\n      padding: ${Spacing.u2};\n      font-weight: ${FontWeight.strong};\n      border-radius: ${BorderRadius.default};\n    }\n  `,\n}"]},"metadata":{},"sourceType":"module"}